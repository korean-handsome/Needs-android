프로젝트명
---
Store: Consumer-Entrepreneur Connection System

프로젝트 개요
---
소비자는 지역게시판에 필요한 서비스를 작성하고 창업 예정자는 어떤 서비스가 제일 많이 필요한지 확인할 수 있는 커뮤니티이다. 모바일 앱, 웹 기반 서비스이며, 작성한 게시물의 공감도에 따른 리워드, 데이터 판매로 수익 창출하는 창업 연계형 프로젝트이다.

Develop Spec
---
Android Studio, Google Firebase

내 역할
---

Android Studio, Google Firebase를 통한 모바일 앱 개발

프로젝트 비즈니스 모델 작성

회원의 정보와 게시판 정보를 저장할 Firestore DB 설계

Firebase의 test lab 기능을 사용하여 모바일 앱의 기능적인 검증

 
성과
---

성과발표회에서 사업의 필요성과 수익모델을 인정받아 장려상 수상

어려웠던 점
---

코로나19로 대면회의가 불가능해지면서 팀원들과 코드가 공유되지 않아 소통에 어려움. GitHub를 통해 형상관리, 소스관리를 하고 Slack을 통해서 커뮤니케이션을 했다.

설계 세부사항
---
Frontend는 drawble 경로에 있는 layout의 xml파일들을 추가하여 구현하였다. 큰 틀로는 로그인에 필요한 xml과, 게시판에 필요한 xml을 나누었고 로그인 이후 이동되는 창은 fragment로 구현하였다. fragment란 화면 요소를 fragment 단위로 나누어 관리하여 레이아웃을 분리하여 관리할 수 있고, 이를 활용해 자유게시판, 인기게시판, 설정 등의 다양한 기능을 fragment로 관리하였다. 지역에 대한 목록은 구->동으로 여러 가지 구에 대한 정보가 먼저 보여 지고 구에 해당하는 동이 보여야 하므로, expandable listview를 사용해 정렬해주었다. 게시판은 한 지역에 대한 여러 글들로 구성되어 있고, 이 글들을 한 레이아웃에 관리하여야 하므로 listview를 사용해 정렬해주었다. 설정 창은 포인트 관리, 계정 관리, 활동 기록 등 기능에 따라 분류되어 있으므로, gridview를 사용해 분류해주었다.

많은 Data들을 관리해주기 위해서 backend는 기본적으로 firestore DB에 대한 연동이 되어 있어야 한다. Firebase assistant를 이용해 쉽게 연동할 수 있었다. 회원가입을 할 때 회원의 정보가 firestore에 저장이 되고, Google이나 Facebook을 이용한 SNS로그인을 할 때도 첫 로그인 시 해당 정보가 firestore에 저장이 된다. firestore에 저장된 유저의 정보를 활용해 로그인을 할 수 있고 App을 들어갔을 때 이미 로그인이 되어 있다면 onstart기능을 통해 로그인 화면이 아닌 메인 화면으로 이동할 수 있게 된다, 로그인 후 이동된 화면에 인기 게시판이 구현되어 있고 해당 화면은 firestore에 저장된 data를 가져와 자신이 설정한 지역의 인기 게시글을 보여준다.

인기게시판이 아닌 자유게시판과 지역게시판과 같은 경우에는 database에 저장된 정보들이 activity에서 해당 게시판에 알맞게 보일 것이다. 이를 구성하는 게시판에 목록은 제목, 작성자, 날짜, 조회수 등으로 구현이 되어있으며, 날짜순, 조회순, 공감순으로 정렬이 가능하다. 검색 또한 제공되며 제목, 작성자, 날짜에 대해서 검색이 가능하고, text change listener를 사용해 텍스트가 변할 때마다 그에 맞게 게시판 목록이 변할 수 있도록 해주었다. 게시판은 글쓰기, 삭제, 공감, 댓글 기능을 제공하고 공감, 댓글, 글쓰기의 기능은 누구나 가능하도록 하였지만, 삭제기능은 댓글이나 글의 작성자만이 할 수 있도록 UID를 통해서 다른 사용자의 접근을 막아주었다. 지역목록에서 즐겨찾기 목록이 존재하고 자신이 등록한 지역이 추가 되어있을 것이고, 해당 정보는 database를 통해 자신의 uid를 통해 가져오게 된다.

App을 잠시 나갔을 경우에 background service에 대한 기능도 제공한다. Background에 있을 때도 app이 실행 중이므로 기본 channel에 대한 notification을 통해 알림이 보이도록 했다. 그리고 background에 있을 때 다른 유저가 자신의 글에 공감 혹은 댓글을 남겼을 때, 해당 user의 닉네임과 profile에 대한 notification을 통해 알림이 오도록 하였다. 그리고 알림의 개수에 따라 app의 icon옆에 오는 badge의 count를 늘려주어 알림 개수 또한 확인이 가능하다. Notification에 대한 클릭으로 바로 해당 글로 이동할 수 있으며, 이동 시에는 foreground로 이동한 것이므로 background service가 종료된다. Foreground에서는 우측 상단에 있는 알림 메뉴의 이미지에 대한 변경을 통해 알림이 왔는지를 확인할 수 있고, 알림 메뉴에 대한 클릭을 통해 자세한 알림 정보를 확인할 수 있다.
